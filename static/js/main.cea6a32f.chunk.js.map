{"version":3,"sources":["context/query-context.js","util/localStorage.js","context/theme-context.js","context/favourite-context.js","components/header/search/SearchBar.js","components/header/Header.js","components/individual-image/IndividualImage.js","util/constants.js","components/image-gallery/ImageGallery.js","hooks/useImageSearch.js","components/favourite-gallery/FavouriteGallery.js","views/home/Home.js","views/favourite/Favourite.js","views/error/Error.js","App.js","index.js"],"names":["SearchQueryContext","createContext","SearchQueryContextProvider","children","useState","query","setQuery","pageNumber","setPageNumber","Provider","value","useQueryValue","useContext","usePageNumberValue","getItemFromStorage","key","localStorage","JSON","parse","getItem","err","console","error","addItemToStorage","item","setItem","stringify","ThemeContext","ThemeContextProvider","persisted","isLightTheme","setIsLightTheme","useEffect","useThemeValue","FavouriteContext","initialState","favList","reducer","state","action","type","image","newFav","id","alt_description","regular","addToFavourite","payload","favImage","filter","x","removeFromFavourite","FavouriteContextProvider","useReducer","globalState","dispatch","useFavouriteValue","SearchBar","className","data-testid","aria-label","placeholder","onKeyDown","e","target","Header","sideBar","setSideBar","location","useLocation","pathname","isHome","setIsHome","isFav","setIsFav","getNavClassName","to","onClick","color","setNavIconColorForHome","setNavTextColorForHome","setNavIconColorForFav","setNavTextColorForFav","onChange","checked","size","IndividualImage","find","isFavourite","setIsFavourite","downloadCoverRef","useRef","favouriteCoverRef","log","handleFavourite","ref","idd","fetch","method","headers","then","response","arrayBuffer","buffer","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","catch","alt","onLoad","current","style","zIndex","src","BASE_URL","process","CLIENT_ID","ImageGallery","loading","setLoading","setError","images","setImages","hasMore","setHasMore","a","axios","params","client_id","page","res","prevImages","data","results","length","fetchImages","useImageSearch","observer","lastImageElementRef","useCallback","node","disconnect","IntersectionObserver","entries","isIntersecting","prevPageNumber","observe","map","urls","FavouriteGallery","fav","Home","getElementsByTagName","Favourite","Error","App","basename","exact","path","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.cea6a32f.chunk.js","sourcesContent":["import React, { createContext, useContext, useState } from 'react';\n\nexport const SearchQueryContext = createContext();\n\nexport const SearchQueryContextProvider = ({ children }) => {\n  const [query, setQuery] = useState(\"mountains\");\n  const [pageNumber, setPageNumber] = useState(1);\n  return (\n    <SearchQueryContext.Provider value={{query, setQuery, pageNumber, setPageNumber}}>\n      {children}\n    </SearchQueryContext.Provider>\n  );\n};\n\nexport const useQueryValue = () => {\n  const { query, setQuery } = useContext(SearchQueryContext);\n  return {query, setQuery };\n} \n\nexport const usePageNumberValue = () => {\n  const { pageNumber, setPageNumber } = useContext(SearchQueryContext);\n  return { pageNumber, setPageNumber }\n} ","export const clearStorage = () => localStorage.clear();\n\nexport const getItemFromStorage = (key) => {\n    if (!localStorage) return;\n        \n    try {\n        return JSON.parse(localStorage.getItem(key));\n    } catch (err) {\n        console.error(`Error getting item ${key} from localStorage`, err);\n    }\n};\n\nexport const addItemToStorage = (key, item) => {\n    if (!localStorage) return;\n\n    try {\n        return localStorage.setItem(key, JSON.stringify(item));\n    } catch (err) {\n        console.error(`Error storing item ${key} to localStorage`, err);\n    }\n};\n\nexport const removeItemFromStorage = (key) => {\n    if (!localStorage) return;\n\n    try {\n        return localStorage.removeItem(key);\n    } catch (err) {\n        console.error(`Error removing item ${key} from localStorage`, err);\n    }\n};","import React, { useEffect, createContext, useContext, useState } from 'react';\nimport { addItemToStorage, getItemFromStorage } from '../util/localStorage';\n\nconst initialState = true;\n\nexport const ThemeContext = createContext();\n\nexport const  ThemeContextProvider = ({ children }) => {\n  const [ isLightTheme, setIsLightTheme ] = useState(() => {\n    const persisted = getItemFromStorage(\"theme\");\n        return persisted != null\n        ? persisted\n        : initialState;\n  });\n\n  useEffect(() => {\n    addItemToStorage(\"theme\", isLightTheme);\n}, [isLightTheme]);\n\n  return (\n    <ThemeContext.Provider value={{isLightTheme, setIsLightTheme}}>\n      {children}\n    </ThemeContext.Provider>\n  );\n};\n\nexport const useThemeValue = () => useContext(ThemeContext);","import React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport { addItemToStorage, getItemFromStorage } from '../util/localStorage';\n\nexport const FavouriteContext = createContext();\n\nconst initialState = {\n    favList: []\n};\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n      case \"ADD_FAV\":\n          return addToFavourite(state, action.payload.favImage);\n      case \"REMOVE_FAV\":\n          return removeFromFavourite(state, action.payload.favImage);\n      default:  \n          return state;\n    }\n};\n\nfunction addToFavourite(state, image) {\n    const newFav = {\n      id: image.id,\n      alt_description: image.alt_description,\n      regular: image.regular\n    };\n\n    return { \n        favList: [...state.favList, newFav] \n    };\n}\n\nfunction removeFromFavourite(state, image) {\n    return {\n        favList:  state.favList.filter(x => x.id !== image.id)\n    };\n}\n  \nexport const FavouriteContextProvider = ({ children }) => {\n    const [globalState, dispatch] = useReducer(reducer, initialState, (initialState) => {\n        const persisted = getItemFromStorage(\"fav\");\n        return persisted !== null\n        ? persisted\n        : initialState;\n    });\n\n    useEffect(() => {\n        addItemToStorage(\"fav\", globalState);\n    }, [globalState])\n\n    return (\n        <FavouriteContext.Provider value={{ globalState, dispatch}}>\n            {children}\n        </FavouriteContext.Provider>\n    );\n};\n\nexport const useFavouriteValue = () => useContext(FavouriteContext);","import React from 'react';\nimport { FaSearch } from 'react-icons/fa';\nimport { useThemeValue, useQueryValue, usePageNumberValue } from '../../../context';\nimport './SearchBar.css';\n\nexport const SearchBar = () => {\n\n    const { isLightTheme } = useThemeValue();\n    const  { setQuery }  = useQueryValue();\n    const  { setPageNumber }  = usePageNumberValue();\n    return (\n        <div \n            className={isLightTheme ? \"search-container\" : \"search-container-dark\" }\n            data-testid={isLightTheme ? \"search-container\" : \"search-container-dark\"}\n        >  \n            <span data-testid=\"search-icon\"> <FaSearch /> </span>\n            <input \n                type=\"text\" \n                className=\"search-bar\"\n                aria-label=\"search bar\"\n                placeholder=\"Search...\"\n                onKeyDown={(e) => {\n                    if (e.key === 'Enter') {\n                        setQuery(e.target.value);\n                        setPageNumber(1);\n                    }\n                }}\n            />\n        </div>\n    );\n}","import React, { useState } from 'react';\nimport { SearchBar } from './search/SearchBar';\nimport { FaBars, FaHeart, FaHome, FaMoon } from 'react-icons/fa';\nimport { AiOutlineClose  } from 'react-icons/ai';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useThemeValue } from '../../context'\nimport './Header.css';\n\nexport const Header = () => {\n\n    const { isLightTheme, setIsLightTheme } = useThemeValue();\n    const [sideBar, setSideBar] = useState(false);  \n\n    const location = useLocation();\n    const [isHome, setIsHome] = useState(location.pathname === \"/\" ? true : false);  \n    const [isFav, setIsFav] = useState(location.pathname === \"/favourite\" ? true : false);  \n        \n    const getNavClassName = () => {\n        var className = \"sidebar\";\n        className += isLightTheme ? \" sidebar-light\" : \" sidebar-dark\";\n        className += sideBar ? \" sidebar-active\" : \"\";\n        return className;\n    }\n\n    const setHome = () => {\n        setSideBar(!sideBar);\n        setIsHome(true);\n        setIsFav(false);\n    }\n\n    const setFav = () => {\n        setSideBar(!sideBar);\n        setIsHome(false);\n        setIsFav(true);\n    }\n\n\n    const setNavIconColorForHome = () => {\n        let color = \"\";\n        color = isLightTheme ? \"black\" : \"white\";\n        if(isHome && isLightTheme) color = \"#34a1cd\";    \n        else if(isHome && !isLightTheme) color = \"#ade6e6\";\n        return color;\n    }\n\n\n    const setNavIconColorForFav = () => {\n        let color = \"\";\n        color = isLightTheme ? \"black\" : \"white\";\n        if(isFav && isLightTheme) color = \"#34a1cd\";    \n        else if(isFav && !isLightTheme) color = \"#ade6e6\";\n        return color;\n    }\n\n\n    const setNavTextColorForHome = () => {\n        let className = \"nav-text\";\n        if(isHome && isLightTheme) className += \" nav-selected-light\";\n        else if(isHome && !isLightTheme) className += \" nav-selected-dark\";\n        else if(isLightTheme) className += \" nav-light\" \n        else className += \" nav-dark\";\n        return className\n    }\n\n\n    const setNavTextColorForFav = () => {\n        let className = \"nav-text\";\n        if(isFav && isLightTheme) className += \" nav-selected-light\";\n        else if(isFav && !isLightTheme) className += \" nav-selected-dark\";\n        else if(isLightTheme) className += \" nav-light\" \n        else className += \" nav-dark\";\n        return className\n    }\n\n\n    return (\n        <header \n            className={isLightTheme ? \"header-light\" : \"header-dark\" }\n            data-testid={isLightTheme ? \"header-light\" : \"header-dark\" }\n        >\n            <span className=\"searchBar\"> <SearchBar /> </span>\n            <nav className={getNavClassName()}>\n                <ul className=\"topbar-items\">\n                    <li className=\"navbar-li\" data-testid=\"home-link\" >\n                        <Link to=\"/\" onClick={() => { setHome()}}>\n                             <span className=\"nav-visibility\"> <FaHome color={setNavIconColorForHome()}/> </span>\n                             <span className={setNavTextColorForHome()} ><b>Home</b></span>\n                        </Link>\n                    </li>\n\n                     <li className=\"navbar-li\" data-testid=\"fav-link\">\n                        <Link to=\"/favourite\" onClick={() => {setFav()}}>\n                            <span className=\"nav-visibility\"> <FaHeart color={setNavIconColorForFav()}/> </span>\n                            <span className={setNavTextColorForFav()}><b>Favourite</b></span>\n                        </Link>\n                    </li>\n\n                    <li className=\"navbar-li\">\n                            <span className=\"nav-icon nav-visibility\"><FaMoon color={isLightTheme ? \"black\" : \"white\"}/> </span> \n                            <span className={isLightTheme ? \"nav-text nav-visibility nav-light\" : \"nav-text nav-visibility nav-dark\"}>\n                                <b>Dark Mode</b>\n                            </span>\n                        <label>\n                            <input \n                                aria-label=\"switch-theme\"\n                                type=\"checkbox\" \n                                onClick={() => setIsLightTheme(!isLightTheme)} \n                                onChange={e => {}}\n                                checked={!isLightTheme}/>\n                            <span className=\"check\"></span>\n                        </label>\n                    </li>                    \n                </ul>\n            </nav>\n\n            <div className=\"navbar\" data-testid=\"navbar\">\n                <Link to=\"#\" className='menu-bar' data-testid=\"menu-link\">\n                    {\n                     sideBar \n                     ? <span data-testid=\"close\"><AiOutlineClose size={28} color={isLightTheme ? \"black\" : \"white\"} onClick={() => {setSideBar(!sideBar)}}/> </span>\n                     : <span data-testid=\"bar\"><FaBars size={28} color={isLightTheme ? \"black\" : \"white\"} onClick={() => {setSideBar(!sideBar)}}/>  </span>\n                    }\n                </Link> \n            </div>\n        </header>\n    );\n}","import React, { useState, useRef } from 'react';\nimport { FaDownload, FaHeart } from 'react-icons/fa';\nimport { useFavouriteValue, useThemeValue } from '../../context';\nimport './IndividualImage.css';\n\nexport const IndividualImage = ({id, regular, alt_description}) => {\n\n    const { isLightTheme } = useThemeValue();\n    const { globalState, dispatch } = useFavouriteValue();\n\n    const [isFavourite, setIsFavourite] = useState(globalState.favList.find(x => x.id === id));\n\n    const downloadCoverRef = useRef(null);\n    const favouriteCoverRef = useRef(null);\n  \n    function displayButtons() {\n        downloadCoverRef.current.style.zIndex = 0;\n        favouriteCoverRef.current.style.zIndex = 0;\n    }\n\n    const handleFavourite = (id, regular, alt_description) => {\n        let action;\n        if(isFavourite) {\n          console.log(\"Rem\")\n          action = {\n            type: \"REMOVE_FAV\",\n            payload: {\n              favImage: { id }\n            }\n          };\n        }\n        else {\n          console.log(\"Adding\")\n          action = {\n            type: \"ADD_FAV\",\n            payload: {\n              favImage: { id, regular, alt_description }\n            }\n          };\n        }\n      \n        dispatch(action);\n        setIsFavourite(!isFavourite);\n    }\n\n    const downloadImage = (idd, imageUrl)  => {\n        fetch(imageUrl, {\n          method: \"GET\",\n          headers: {}\n        })\n          .then(response => {\n            response.arrayBuffer().then((buffer) => {\n              const url = window.URL.createObjectURL(new Blob([buffer]));\n              const link = document.createElement(\"a\");\n              link.href = url;\n              link.setAttribute(\"download\", `${idd}.png`);\n              document.body.appendChild(link);\n              link.click();\n            });\n          })\n          .catch(err => {\n            console.log(err);\n          });\n    };\n\n    return (\n        <li className=\"img-list-item\" data-testid=\"img-list-item\"> { \n            <div className=\"img-container\" data-testid=\"img-container\">\n              <button\n                className=\"favourite-button\"\n                data-testid=\"favourite-button\"\n                aria-label=\"favourite button\"\n                onClick={() => {handleFavourite(id, regular, alt_description)}}\n              >\n                <span className=\"cover favourite-icon\"> \n                  <FaHeart color={isFavourite ? \"red\" : isLightTheme ? \"black\" : \"white\"} /> \n                </span> \n                <span ref={favouriteCoverRef} className= {isLightTheme ? \"cover white-cover\" : \"cover black-cover\"} />        \n              </button>\n\n              <button\n                className=\"download-button\"\n                data-testid=\"download-button\"\n                aria-label=\"download button\"\n                onClick={() => { downloadImage(id, regular)}}\n              >\n                <span className=\"cover download-icon\"> \n                  <FaDownload color={isLightTheme ? \"black\" : \"white\"} /> \n                </span> \n                <span ref={downloadCoverRef} className= {isLightTheme ? \"cover white-cover\" : \"cover black-cover\"} />        \n              </button>\n\n               <img \n                  alt={alt_description}\n                  aria-label={alt_description}\n                  className=\"img-card\"  \n                  data-testid=\"img-card\"\n                  onLoad={() => {displayButtons()}}\n                  src={regular}\n              />\n           </div> }\n          </li> \n    );\n}","export const BASE_URL = process.env.REACT_APP_BASE_URL;\nexport const CLIENT_ID = process.env.REACT_APP_CLIENT_ID;","import React, { useRef, useCallback } from 'react';\nimport { IndividualImage } from '../individual-image/IndividualImage';\nimport {  useQueryValue, usePageNumberValue } from '../../context';\nimport { useImageSearch } from '../../hooks';\nimport './ImageGallery.css';\n\nexport const ImageGallery = () => {\n\n  const { query } = useQueryValue();\n  const { pageNumber, setPageNumber } = usePageNumberValue();\n  \n  const { images, loading, hasMore } = useImageSearch(query, pageNumber);\n\n  const observer = useRef();\n\n  const lastImageElementRef = useCallback(node => {\n    if (loading) return;\n    if (observer.current) observer.current.disconnect();\n    observer.current = new IntersectionObserver(entries => {\n      if (entries[0].isIntersecting && hasMore) {\n          setPageNumber(prevPageNumber => prevPageNumber + 1);\n      }\n    });\n    if (node) observer.current.observe(node);\n  }, [loading, hasMore]);\n  \n  return (\n      <div \n        className=\"image-gallery\"\n        data-testid=\"image-gallery\"\n      >\n         { \n          <ul className=\"image-gallery-ul\" data-testid=\"image-gallery-ul\">\n              {images.map((image) => { \n                return (                  \n                  <IndividualImage\n                    key={image.id}\n                    id={image.id}\n                    regular={image.urls.regular}\n                    alt_description={image.alt_description}\n                  />\n                );\n              })}\n             <span ref={lastImageElementRef}></span>   \n          </ul> \n         }\n      </div>\n  );    \n}","import { useState, useEffect } from 'react';\nimport { BASE_URL, CLIENT_ID } from '../util/constants';\nimport axios from 'axios';\n\nexport const useImageSearch = (query, pageNumber) => {\n\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(false)\n  const [images, setImages] = useState([])\n  const [hasMore, setHasMore] = useState(false)\n    \n  useEffect(() => {\n    setImages([]);\n  }, [query])\n\n  useEffect(() => {\n    setLoading(true);\n    setError(false);\n\n    async function fetchImages() {\n      await axios({\n        method: 'GET',\n        url: BASE_URL,\n        params: { client_id: CLIENT_ID, query: query, page: pageNumber },\n      }).then(res => {\n          setImages(prevImages => (\n              [...prevImages, ...res.data.results]\n          ))\n        setHasMore(res.data.results.length > 0)\n        setLoading(false)\n      }).catch(e => {\n        setError(true)\n      })\n    }\n\n    fetchImages();\n  \n\n  }, [query, pageNumber]);\n  \n  return { loading, error, images, hasMore }\n}\n","import React from 'react';\nimport { IndividualImage } from '../individual-image/IndividualImage';\nimport { useFavouriteValue } from '../../context';\nimport './FavouriteGallery.css';\n\nexport const FavouriteGallery = () => {\n\n  const { globalState } = useFavouriteValue();\n\n  return (\n      <div \n        className=\"fav-gallery\"\n        data-testid=\"fav-gallery\"\n      >\n         { \n          <ul className=\"fav-gallery-ul\" data-testid=\"fav-gallery-ul\">\n              {globalState.favList.map((fav) => { \n                return (                  \n                  <IndividualImage\n                    key={fav.id}\n                    id={fav.id}\n                    regular={fav.regular}\n                    alt_description={fav.alt_description}\n                  />\n                );\n              })}\n          </ul> \n         }\n      </div>\n  );    \n}","import React from 'react';\nimport { ImageGallery } from '../../components';\nimport { useThemeValue } from '../../context';\n\nexport const Home = () => {\n  \n  const { isLightTheme } = useThemeValue();\n\n  isLightTheme \n  ? document.getElementsByTagName('body')[0].setAttribute('style', 'background-color:#F0F2F5')\n  : document.getElementsByTagName('body')[0].setAttribute('style', 'background-color:black');\n\n    return (\n        <>\n           <ImageGallery /> \n        </>\n    );\n}","import React from 'react';\nimport { FavouriteGallery } from '../../components';\nimport { useThemeValue } from '../../context';\n\nexport const Favourite = () => {\n\n    const { isLightTheme } = useThemeValue();\n\n    isLightTheme \n    ? document.getElementsByTagName('body')[0].setAttribute('style', 'background-color:#F0F2F5')\n    : document.getElementsByTagName('body')[0].setAttribute('style', 'background-color:black');\n\n    return (\n        <>\n        <FavouriteGallery />\n        </>\n    );\n}","import React from 'react';  \nimport './Error.css';\nimport { useThemeValue } from '../../context';\n\nexport const Error = () => {\n\n    const { isLightTheme } = useThemeValue();\n\n    isLightTheme \n    ? document.getElementsByTagName('body')[0].setAttribute('style', 'background-color:#F0F2F5')\n    : document.getElementsByTagName('body')[0].setAttribute('style', 'background-color:black');\n\n    return (\n        <div className=\"error\" data-testid=\"error\">\n            <h2 className={isLightTheme ? \"light-mode\" : \"dark-mode\"}>Oops! Page not found.</h2>\n            <h1 className={isLightTheme ? \"light-mode\" : \"dark-mode\"}>404</h1>\n            <h3 className={isLightTheme ? \"light-mode\" : \"dark-mode\"}>Sorry, this page isn't available.</h3>\n        </div>\n    );\n\n}","import React from 'react';\nimport { ThemeContextProvider, FavouriteContextProvider, SearchQueryContextProvider } from './context';\nimport { Home, Favourite, Error } from './views';\nimport { Header } from './components';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route\n} from 'react-router-dom';\nimport './App.css';\n\nexport const App = () => {\n\n  return (\n      <ThemeContextProvider>\n          <FavouriteContextProvider>\n            <SearchQueryContextProvider>\n              <Router basename=\"/\">\n                  <Header /> \n                  <Switch>\n                      <Route exact path=\"/\">\n                          <Home />\n                      </Route>\n                      <Route exact path=\"/favourite\">\n                          <Favourite />\n                      </Route>\n                      <Router path=\"*\">\n                          <Error />\n                      </Router>\n                  </Switch>\n              </Router>\n            </SearchQueryContextProvider>\n          </FavouriteContextProvider>\n      </ThemeContextProvider>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}