(this["webpackJsonpimage-search"]=this["webpackJsonpimage-search"]||[]).push([[0],{20:function(e,t,a){e.exports=a(46)},25:function(e,t,a){},26:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),u=a.n(c),s=(a(25),a(19)),l=a(2),i=Object(n.createContext)(),o=function(e){var t=e.children,a=Object(n.useState)("mountains"),c=Object(l.a)(a,2),u=c[0],s=c[1],o=Object(n.useState)(1),m=Object(l.a)(o,2),b=m[0],h=m[1];return r.a.createElement(i.Provider,{value:{query:u,setQuery:s,pageNumber:b,setPageNumber:h}},t)},m=function(){return Object(n.useContext)(i)},b=Object(n.createContext)(),h=function(e){var t=e.children,a=Object(n.useState)(!0),c=Object(l.a)(a,2),u=c[0],s=c[1];return r.a.createElement(b.Provider,{value:{isLightTheme:u,setIsLightTheme:s}},t)},f=function(){return Object(n.useContext)(b)},d=(a(26),function(){var e=f().isLightTheme,t=m(),a=t.setQuery,n=t.setPageNumber;return r.a.createElement("div",{className:e?"search-container":"search-container-dark"},r.a.createElement("span",null," ",r.a.createElement(s.a,null)," "),r.a.createElement("input",{type:"text",className:"search-bar",placeholder:"Search...",onKeyDown:function(e){"Enter"===e.key&&(a(e.target.value),n(1))}}))}),g=function(){var e=f(),t=e.isLightTheme,a=e.setIsLightTheme;return r.a.createElement("header",{className:t?"header-light":"header-dark","data-testid":"header"},r.a.createElement("span",null," ",r.a.createElement(d,null)),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",onClick:function(){return a(!t)}}),r.a.createElement("span",{className:"check"})))},E=a(5),p=a.n(E),O=a(6),j=a(17),y="https://api.unsplash.com/search/photos",v="trb7uyf9NVWTe7AkQKmm3V9ZU4tUMjEmNMYVO2YCZik",N=a(18),k=a.n(N),T=(a(45),function(){var e=f().isLightTheme,t=m().setPageNumber,a=function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),u=Object(l.a)(c,2),s=u[0],i=u[1],o=Object(n.useState)([]),b=Object(l.a)(o,2),h=b[0],f=b[1],d=Object(n.useState)(!1),g=Object(l.a)(d,2),E=g[0],N=g[1],T=m(),x=T.query,S=T.pageNumber;return Object(n.useEffect)((function(){f([])}),[x]),Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k()({method:"GET",url:y,params:{client_id:v,query:x,page:S}}).then((function(e){f((function(t){return[].concat(Object(O.a)(t),Object(O.a)(e.data.results))})),N(e.data.results.length>0),r(!1)})).catch((function(e){i(!0)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r(!0),i(!1),function(){e.apply(this,arguments)}()}),[x,S]),{loading:a,error:s,images:h,hasMore:E}}(),c=a.images,u=a.hasMore,s=a.loading;e?document.getElementsByTagName("body")[0].setAttribute("style","background-color:#F0F2F5"):document.getElementsByTagName("body")[0].setAttribute("style","background-color:black");var i=Object(n.useRef)(),o=Object(n.useCallback)((function(e){s||(i.current&&i.current.disconnect(),i.current=new IntersectionObserver((function(e){e[0].isIntersecting&&u&&t((function(e){return e+1}))})),e&&i.current.observe(e))}),[s,u]);return r.a.createElement("div",{className:"image-gallery "},r.a.createElement("ul",null,c.map((function(e,t){return c.length===t+1?r.a.createElement("li",{key:t,className:"list"},r.a.createElement("img",{alt:"des",className:"card",ref:o,src:e.urls.regular})):r.a.createElement("li",{key:t,className:"list"},r.a.createElement("img",{alt:"des",className:"card",src:e.urls.regular}))}))))}),x=function(){return r.a.createElement(h,null,r.a.createElement(o,null,r.a.createElement(g,null),r.a.createElement(T,null)))};u.a.render(r.a.createElement(x,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.4c406b83.chunk.js.map